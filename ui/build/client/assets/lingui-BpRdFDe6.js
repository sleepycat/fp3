import{n as d,q as b,l as f,T as E,t as L,v as g,w}from"./chunk-KNED5TY2-DlGhbW8p.js";const _="modulepreload",P=function(o){return"/"+o},m={},h=function(t,e,n){let i=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),s=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(e.map(l=>{if(l=P(l),l in m)return;m[l]=!0;const u=l.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const a=document.createElement("link");if(a.rel=u?"stylesheet":_,u||(a.as="script"),a.crossOrigin="",a.href=l,s&&a.setAttribute("nonce",s),document.head.appendChild(a),u)return new Promise((v,y)=>{a.addEventListener("load",v),a.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function c(r){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=r,window.dispatchEvent(s),!s.defaultPrevented)throw r}return i.then(r=>{for(const s of r||[])s.status==="rejected"&&c(s.reason);return t().catch(c)})},k=(o,t,e)=>{const n=o[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((i,c)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(c.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==e?". Note that variables only represent file names one level deep.":""))))})};function S(){return[{key:"en",label:{id:"lYGfRP"}},{key:"fr",label:{id:"nLC6tu"}}]}async function A(o){const{messages:t}=await k(Object.assign({"../../locales/en.po":()=>h(()=>import("./en-9BZg6ePx.js"),[]),"../../locales/fr.po":()=>h(()=>import("./fr-UYwtgvcd.js"),[])}),`../../locales/${o}.po`,4);return d.loadAndActivate({locale:o,messages:t})}function O(o="locale"){const[t]=b(),{[o]:e}=t.data??{};if(!e)throw new Error("Missing locale returned by the root loader.");if(typeof e=="string")return e;throw new Error("Invalid locale returned by the root loader.")}function j(){const t=w().find(e=>e.formAction==="/");if(t!=null&&t.formData){const e=Object.fromEntries(t.formData);if(e.status==="success"&&typeof e.value=="object"&&"locale"in e.value)return e.value.locale}}function x(o){const t=S(),{setLocale:e}=R();return f.jsx("select",{"aria-label":d._("Switch language"),onChange:n=>e(n.currentTarget.value),defaultValue:d.locale,...o,children:t.map(n=>f.jsx("option",{value:n.key,children:f.jsx(E,{id:n.label.id})},n.key))})}function R(){const o=L("root"),t=g();return{locale:j()??(o==null?void 0:o.locale)??"en",setLocale:c=>{t.submit({locale:c},{method:"POST",action:"/"})}}}export{x as L,A as l,O as u};
